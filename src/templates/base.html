
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}My App{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <!-- Navbar -->
  <div class="navbar">
    <button class="sidebar-toggle">☰</button>
    
    <div class="dropdown">
      <button class="dropbtn">👤 Profile ▾</button>
      <ul class="dropdown-menu">
        <li><a href="{{ url_for('profile') }}">My Profile</a></li>
        <li><a href="{{ url_for('logout') }}">Logout</a></li>
      </ul>
    </div>
  </div>

  <!-- Sidebar -->
  <aside class="sidebar">
    <ul>
      <li><a href="{{ url_for('home') }}">🏠 Home</a></li>
      <li><a href="{{ url_for('my_tasks') }}">✅ My Tasks</a></li>
      <li><a href="{{ url_for('projects') }}">📁 Projects</a></li>
      <li><a href="{{ url_for('inbox') }}">🔔 Inbox</a></li>
    </ul>
  </aside>

  <!-- Page Content -->
  <main class="main-content">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>© 2025 MyApp. All rights reserved.</p>
  </footer>

  <script>
    // Profile dropdown toggle
    document.querySelectorAll('.dropbtn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        btn.nextElementSibling.classList.toggle('show');
      });
    });

    // Sidebar toggle
    const sidebar = document.querySelector('.sidebar');
    const toggleBtn = document.querySelector('.sidebar-toggle');

    toggleBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      sidebar.classList.toggle('show');
    });

    // Auto close dropdown and sidebar when clicking outside
    document.addEventListener('click', (e) => {
      document.querySelectorAll('.dropdown-menu').forEach(menu => menu.classList.remove('show'));
      if (!sidebar.contains(e.target) && !toggleBtn.contains(e.target)) {
        sidebar.classList.remove('show');
      }
    });
  </script>
</body>
</html>
